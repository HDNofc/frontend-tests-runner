# funbox-frontend-tests-runner

**funbox-frontend-tests-runner** — библиотека, позволяющая запускать Mocha-тесты в несколько потоков, а также следить за изменениями файлов тестов и файлов проекта в live-режиме.

Библиотека создана на основе скриптов запуска тестов, выделенных из рабочего окружения funbox-frontend-env-webpack. Отдельная библиотека позволяет разработчикам запускать тесты привычным образом, но без привязки к фреймворку или средству сборки, что увеличивает гибкость разработки проектов.

## Подключение библиотеки в проект

Подключение библиотеки в проект:

```javascript
const config = {
  parallelTestsCount: 2,
  testFiles: './src/tests/e2e/*.js',
  project: {
    build() {
      // функция билда проекта, должна возвращать Promise
    },
    addListener(event) {
      // функция подписки на два возможных события: buildStart — проект начал собираться, buildFinish — проект закончил собираться; нужно для live-тестов
    }
  }
}

const Runner = require('funbox-frontend-tests-runner');
const runner = new Runner(config);
runner.start();
```

Примеры подключения библиотеки для проектов с рабочим окружением находятся в [examples](./examples).

### Конфигурация библиотеки

* `parallelTestsCount` — количество файлов с тестами, запускающихся одновременно;
* `live`  — запуск тестов в live-режиме (слежение за изменениями файлов тестов и файлов проекта);
* `separatedLogs` — запись отдельного лога по каждому тест-файлу в папку `test-logs` после выполнения теста;
* `testFiles` — glob файлов с тестами, например, `tests/\*.js`;
* `timeout` — опция `timeout` для Mocha;
* `retries` — опция `retries` для Mocha (количество попыток перезапуска тестов при падении).
